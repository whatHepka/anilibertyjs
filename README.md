# AniLiberty.js

üéå –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Node.js –∫–ª–∏–µ–Ω—Ç –¥–ª—è AniLiberty API V1 —Å –ø–æ–ª–Ω—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º –≤—Å–µ—Ö endpoints

[![npm version](https://img.shields.io/npm/v/anilibertyjs.svg)](https://www.npmjs.com/package/anilibertyjs)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue.svg)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-%3E%3D16.0.0-green.svg)](https://nodejs.org/)

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üåê [**HTML –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**](https://anilibertyjs.whathepka.xyz/index.html) - –ö—Ä–∞—Å–∏–≤–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- üìö [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API](https://anilibertyjs.whathepka.xyz/api-reference.html) - –í—Å–µ –º–µ—Ç–æ–¥—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- üìù [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–∏–ø–æ–≤](https://anilibertyjs.whathepka.xyz/types-reference.html) - TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install anilibertyjs
```

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ API** - 60+ –º–µ—Ç–æ–¥–æ–≤ AniLiberty API V1
- ‚úÖ **TypeScript –∏–∑ –∫–æ—Ä–æ–±–∫–∏** - –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å, OTP, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ (VK, Discord, Google)
- ‚úÖ **–ö–∞—Ç–∞–ª–æ–≥ –∏ –ø–æ–∏—Å–∫** - —Ñ–∏–ª—å—Ç—Ä—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- ‚úÖ **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω—ã–º–∏ —Ä–µ–ª–∏–∑–∞–º–∏
- ‚úÖ **–ö–æ–ª–ª–µ–∫—Ü–∏–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ** - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—ã—Ö–æ–¥–∞ —ç–ø–∏–∑–æ–¥–æ–≤
- ‚úÖ **–¢–æ—Ä—Ä–µ–Ω—Ç—ã** - –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
- ‚úÖ **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏** - –∂–∞–Ω—Ä—ã, —Ç–∏–ø—ã, —Å–µ–∑–æ–Ω—ã, —Ä–µ–π—Ç–∏–Ω–≥–∏

## üì¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```javascript
const { AniLibertyClient, isSuccess } = require('anilibertyjs');

// –°–æ–∑–¥–∞–µ–º –∫–ª–∏–µ–Ω—Ç
const client = new AniLibertyClient();

// –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
async function getLatestAnime() {
  const updates = await client.getUpdates({ limit: 5 });
  
  if (isSuccess(updates)) {
    updates.data.forEach(anime => {
      console.log(`${anime.title.ru} - ${anime.episodes_released} —ç–ø.`);
    });
  }
}

getLatestAnime();
```

## üîë –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```javascript
// –õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å
await client.login({
  login: 'username',
  password: 'password'
});

// OTP
const otpResponse = await client.otpGet({ device_id: 'device-id' });
await client.otpLogin({ code: 123456, device_id: 'device-id' });

// –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏
const vkRedirect = await client.socialAuthVkRedirect();
// –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ vkRedirect.data.url
```

### –ö–∞—Ç–∞–ª–æ–≥

```javascript
// –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
const catalog = await client.getCatalog({
  page: 1,
  limit: 20,
  genres: ['action'],
  sort: 'rating',
  order: 'desc'
});

// –°–ª—É—á–∞–π–Ω–æ–µ –∞–Ω–∏–º–µ
const random = await client.getRandomRelease();

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–ª–∏–∑
const release = await client.getRelease('release-id');
const releaseByCode = await client.getReleaseByCode('sword-art-online');
```

### –ü–æ–∏—Å–∫

```javascript
// –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
const searchResult = await client.search({
  query: '–ù–∞—Ä—É—Ç–æ',
  limit: 20,
  genres: ['action']
});

// –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫
const quickResult = await client.quickSearch('One Piece', 5);
```

### –ò–∑–±—Ä–∞–Ω–Ω–æ–µ

```javascript
// –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
await client.addToFavorites({
  release_id: '123',
  status_id: '1'
});

// –ü–æ–ª—É—á–∏—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
const favorites = await client.getMyFavorites();

// –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
await client.removeFromFavorites('release-id');
```

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ

```javascript
// –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
const today = await client.getTodaySchedule();

// –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é
const week = await client.getWeekSchedule();

// –ó–∞ –ø–µ—Ä–∏–æ–¥
const schedule = await client.getSchedule({
  from: '2024-01-01',
  to: '2024-01-31'
});
```

### –ö–æ–ª–ª–µ–∫—Ü–∏–∏

```javascript
// –°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é
const collection = await client.createCollection({
  title: '–ú–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è',
  is_public: true
});

// –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ª–∏–∑
await client.addReleaseToCollection(collection.data.id, {
  release_id: 'release-id'
});
```

### –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

```javascript
// –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
await client.updateWatchHistory('release-id', {
  episode_id: 'episode-id',
  timestamp: 300,
  duration: 1440
});

// –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
const history = await client.getWatchHistory();
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```javascript
const client = new AniLibertyClient({
  baseUrl: 'https://aniliberty.top/api/v1',  // –±–∞–∑–æ–≤—ã–π URL
  timeout: 30000,                              // —Ç–∞–π–º–∞—É—Ç –≤ –º—Å
  headers: {
    'User-Agent': 'Anilibertyjs/1.0.0'
  }
});
```

## üìö TypeScript

```typescript
import { AniLibertyClient, Release, isSuccess } from 'anilibertyjs';

const client = new AniLibertyClient();

async function getCatalog() {
  const response = await client.getCatalog({ limit: 20 });
  
  if (isSuccess(response)) {
    const releases: Release[] = response.data;
    console.log(`–ù–∞–π–¥–µ–Ω–æ —Ä–µ–ª–∏–∑–æ–≤: ${releases.length}`);
  }
}
```

## üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–µ—Ç–æ–¥–æ–≤

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (11 –º–µ—Ç–æ–¥–æ–≤)
- `login()` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –ª–æ–≥–∏–Ω—É/–ø–∞—Ä–æ–ª—é
- `logout()` - –í—ã—Ö–æ–¥
- `refreshToken()` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `otpGet()` - –ó–∞–ø—Ä–æ—Å OTP
- `otpAccept()` - –ü—Ä–∏–Ω—è—Ç–∏–µ OTP
- `otpLogin()` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ OTP
- `socialAuthVkRedirect()` / `socialAuthVkCallback()` - VK
- `socialAuthDiscordRedirect()` / `socialAuthDiscordCallback()` - Discord
- `socialAuthGoogleRedirect()` / `socialAuthGoogleCallback()` - Google
- `passwordResetRequest()` / `passwordResetConfirm()` - –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è

### –ü—Ä–æ—Ñ–∏–ª—å (4 –º–µ—Ç–æ–¥–∞)
- `getMyProfile()` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `updateMyProfile()` - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `updateMyPassword()` - –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
- `deleteMyAccount()` - –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç

### –ò–∑–±—Ä–∞–Ω–Ω–æ–µ (5 –º–µ—Ç–æ–¥–æ–≤)
- `getFavoriteStatuses()` - –°—Ç–∞—Ç—É—Å—ã
- `getMyFavorites()` - –ü–æ–ª—É—á–∏—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- `addToFavorites()` - –î–æ–±–∞–≤–∏—Ç—å
- `updateFavorite()` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å
- `removeFromFavorites()` - –£–¥–∞–ª–∏—Ç—å

### –ö–æ–ª–ª–µ–∫—Ü–∏–∏ (8 –º–µ—Ç–æ–¥–æ–≤)
- `getCollectionStatuses()` - –°—Ç–∞—Ç—É—Å—ã
- `getMyCollections()` - –°–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π
- `createCollection()` - –°–æ–∑–¥–∞—Ç—å
- `getCollection()` - –ü–æ–ª—É—á–∏—Ç—å –ø–æ ID
- `updateCollection()` - –û–±–Ω–æ–≤–∏—Ç—å
- `deleteCollection()` - –£–¥–∞–ª–∏—Ç—å
- `addReleaseToCollection()` - –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ª–∏–∑
- `removeReleaseFromCollection()` - –£–¥–∞–ª–∏—Ç—å —Ä–µ–ª–∏–∑

### –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (4 –º–µ—Ç–æ–¥–∞)
- `getWatchHistory()` - –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
- `updateWatchHistory()` - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
- `deleteWatchHistory()` - –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å
- `clearWatchHistory()` - –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é

### –ö–∞—Ç–∞–ª–æ–≥ (5 –º–µ—Ç–æ–¥–æ–≤)
- `getCatalog()` - –ö–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `getRelease()` - –†–µ–ª–∏–∑ –ø–æ ID
- `getReleaseByCode()` - –†–µ–ª–∏–∑ –ø–æ –∫–æ–¥—É
- `getRandomRelease()` - –°–ª—É—á–∞–π–Ω—ã–π —Ä–µ–ª–∏–∑
- `getUpdates()` - –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (5 –º–µ—Ç–æ–¥–æ–≤)
- `getReleaseTypes()` - –¢–∏–ø—ã —Ä–µ–ª–∏–∑–æ–≤
- `getGenres()` - –ñ–∞–Ω—Ä—ã
- `getSeasons()` - –°–µ–∑–æ–Ω—ã
- `getReleaseStatuses()` - –°—Ç–∞—Ç—É—Å—ã
- `getRatings()` - –†–µ–π—Ç–∏–Ω–≥–∏

### –§—Ä–∞–Ω—à–∏–∑—ã (2 –º–µ—Ç–æ–¥–∞)
- `getFranchises()` - –°–ø–∏—Å–æ–∫ —Ñ—Ä–∞–Ω—à–∏–∑
- `getFranchise()` - –§—Ä–∞–Ω—à–∏–∑–∞ –ø–æ ID

### –≠–ø–∏–∑–æ–¥—ã (2 –º–µ—Ç–æ–¥–∞)
- `getReleaseEpisodes()` - –≠–ø–∏–∑–æ–¥—ã —Ä–µ–ª–∏–∑–∞
- `getEpisode()` - –≠–ø–∏–∑–æ–¥ –ø–æ ID

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (3 –º–µ—Ç–æ–¥–∞)
- `getSchedule()` - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞ –ø–µ—Ä–∏–æ–¥
- `getTodaySchedule()` - –ù–∞ —Å–µ–≥–æ–¥–Ω—è
- `getWeekSchedule()` - –ù–∞ –Ω–µ–¥–µ–ª—é

### –¢–æ—Ä—Ä–µ–Ω—Ç—ã (3 –º–µ—Ç–æ–¥–∞)
- `getReleaseTorrents()` - –¢–æ—Ä—Ä–µ–Ω—Ç—ã —Ä–µ–ª–∏–∑–∞
- `getTorrent()` - –¢–æ—Ä—Ä–µ–Ω—Ç –ø–æ ID
- `downloadTorrent()` - –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª

### –ü–æ–∏—Å–∫ (2 –º–µ—Ç–æ–¥–∞)
- `search()` - –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
- `quickSearch()` - –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫

### –ú–µ–¥–∏–∞ (4 –º–µ—Ç–æ–¥–∞)
- `getPromoVideos()` - –ü—Ä–æ–º–æ –≤–∏–¥–µ–æ
- `getPromoVideo()` - –ü—Ä–æ–º–æ –ø–æ ID
- `getVideoContent()` - –í–∏–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç
- `getVideo()` - –í–∏–¥–µ–æ –ø–æ ID

### –ö–æ–º–∞–Ω–¥—ã (2 –º–µ—Ç–æ–¥–∞)
- `getTeams()` - –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- `getTeam()` - –ö–æ–º–∞–Ω–¥–∞ –ø–æ ID

### –£—Ç–∏–ª–∏—Ç—ã (3 –º–µ—Ç–æ–¥–∞)
- `getAppStatus()` - –°—Ç–∞—Ç—É—Å API
- `ping()` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- `getVastAds()` - –†–µ–∫–ª–∞–º–∞

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/whathepka/anilibertyjs.git
cd anilibertyjs

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
npm run build

# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

## üìù –ü—Ä–∏–º–µ—Ä—ã

–°–º–æ—Ç—Ä–∏—Ç–µ –ø–∞–ø–∫—É `examples/` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤:
- `basic.ts` - –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `auth.ts` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª—å
- `search.ts` - –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

Contributions are welcome! Please feel free to submit a Pull Request.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö!

## üîó –°—Å—ã–ª–∫–∏

- [AniLiberty](https://aniliberty.top)
- [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://aniliberty.top/api/docs/v1)
- [HTML –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://anilibertyjs.whathepka.xyz/index.html)

## üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ Issues –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –±–∞–≥–æ–≤
- Pull Requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –ø–∞–ø–∫–µ `docs/`

---

Made with ‚ù§Ô∏è for anime lovers
